<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Tommy's Blog | Tommy's Blog</title><meta name="author" content="Tommy Deng"><meta name="copyright" content="Tommy Deng"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="使用Mybatis 完成CURDMybatis练习目标   能够使用映射配置文件实现CRUD操作   ​ **如上图所示产品原型，里面包含了品牌数据的 **查询 、按条件查询、添加、删除、批量删除、修改 等功能，而这些功能其实就是对数据库表中的数据进行CRUD操作。接下来我们就使用Mybatis完成品牌数据的增删改查操作。以下是我们要完成功能列表：   查询  查询所有数据 查询详情 条件查询">
<meta property="og:type" content="article">
<meta property="og:title" content="Tommy&#39;s Blog">
<meta property="og:url" content="http://example.com/2022/09/04/%E4%BD%BF%E7%94%A8Mybatis%20%E5%AE%8C%E6%88%90CURD/index.html">
<meta property="og:site_name" content="Tommy&#39;s Blog">
<meta property="og:description" content="使用Mybatis 完成CURDMybatis练习目标   能够使用映射配置文件实现CRUD操作   ​ **如上图所示产品原型，里面包含了品牌数据的 **查询 、按条件查询、添加、删除、批量删除、修改 等功能，而这些功能其实就是对数据库表中的数据进行CRUD操作。接下来我们就使用Mybatis完成品牌数据的增删改查操作。以下是我们要完成功能列表：   查询  查询所有数据 查询详情 条件查询">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
<meta property="article:published_time" content="2022-09-04T14:26:49.887Z">
<meta property="article:modified_time" content="2022-09-04T14:26:26.000Z">
<meta property="article:author" content="Tommy Deng">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/09/04/%E4%BD%BF%E7%94%A8Mybatis%20%E5%AE%8C%E6%88%90CURD/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Tommy\'s Blog',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-09-04 22:26:26'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">20</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Tommy's Blog</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-04T14:26:49.887Z" title="发表于 2022-09-04 22:26:49">2022-09-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-09-04T14:26:26.000Z" title="更新于 2022-09-04 22:26:26">2022-09-04</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="使用Mybatis-完成CURD"><a href="#使用Mybatis-完成CURD" class="headerlink" title="使用Mybatis 完成CURD"></a>使用Mybatis 完成CURD</h1><h2 id="Mybatis练习"><a href="#Mybatis练习" class="headerlink" title="Mybatis练习"></a>Mybatis练习</h2><p><strong>目标</strong></p>
<blockquote>
<ul>
<li><strong>能够使用映射配置文件实现CRUD操作</strong></li>
</ul>
</blockquote>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729111159534.png?lastModify=1659785047" alt="image-20210729111159534">​</p>
<p>**如上图所示产品原型，里面包含了品牌数据的 **<code>查询</code> 、<code>按条件查询</code>、<code>添加</code>、<code>删除</code>、<code>批量删除</code>、<code>修改</code> 等功能，而这些功能其实就是对数据库表中的数据进行CRUD操作。接下来我们就使用Mybatis完成品牌数据的增删改查操作。以下是我们要完成功能列表：</p>
<blockquote>
<ul>
<li><p><strong>查询</strong></p>
<ul>
<li><strong>查询所有数据</strong></li>
<li><strong>查询详情</strong></li>
<li><strong>条件查询</strong></li>
</ul>
</li>
<li><p><strong>添加</strong></p>
</li>
<li><p><strong>修改</strong></p>
<ul>
<li><strong>修改全部字段</strong></li>
<li><strong>修改动态字段</strong></li>
</ul>
</li>
<li><p><strong>删除</strong></p>
<ul>
<li><strong>删除一个</strong></li>
<li><strong>批量删除</strong></li>
</ul>
</li>
</ul>
</blockquote>
<p><strong>我们先将必要的环境准备一下。</strong></p>
<h3 id="1-1-环境准备"><a href="#1-1-环境准备" class="headerlink" title="1.1  环境准备"></a>1.1  环境准备</h3><ul>
<li><p><strong>数据库表（tb_brand）及数据准备</strong><br><code>-- 删除tb_brand表 drop table if exists tb_brand; -- 创建tb_brand表 create table tb_brand (    -- id 主键    id           int primary key auto_increment,    -- 品牌名称    brand_name   varchar(20),    -- 企业名称    company_name varchar(20),    -- 排序字段    ordered      int,    -- 描述信息    description  varchar(100),    -- 状态：0：禁用  1：启用    status       int ); -- 添加数据 insert into tb_brand (brand_name, company_name, ordered, description, status) values (&#39;三只松鼠&#39;, &#39;三只松鼠股份有限公司&#39;, 5, &#39;好吃不上火&#39;, 0),       (&#39;华为&#39;, &#39;华为技术有限公司&#39;, 100, &#39;华为致力于把数字世界带入每个人、每个家庭、每个组织，构建万物互联的智能世界&#39;, 1),       (&#39;小米&#39;, &#39;小米科技有限公司&#39;, 50, &#39;are you ok&#39;, 1);</code></p>
</li>
<li><p><strong>创建maven模块</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20220109100655459.png?lastModify=1659785047" alt="image-20220109100655459">​</p>
</li>
<li><p><strong>pom.xml文件如下</strong>  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line"></span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;  </span><br><span class="line">        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  </span><br><span class="line">        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  </span><br><span class="line">   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  </span><br><span class="line">​  </span><br><span class="line">   &lt;groupId&gt;com.itheima&lt;/groupId&gt;  </span><br><span class="line">   &lt;artifactId&gt;mybatis-crud&lt;/artifactId&gt;  </span><br><span class="line">   &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;  </span><br><span class="line">​  </span><br><span class="line">   &lt;properties&gt;  </span><br><span class="line">       &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;  </span><br><span class="line">       &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;  </span><br><span class="line">   &lt;/properties&gt;  </span><br><span class="line">​  </span><br><span class="line">   &lt;dependencies&gt;  </span><br><span class="line">       &lt;!--mybatis 依赖--&gt;  </span><br><span class="line">       &lt;dependency&gt;  </span><br><span class="line">           &lt;groupId&gt;org.mybatis&lt;/groupId&gt;  </span><br><span class="line">           &lt;artifactId&gt;mybatis&lt;/artifactId&gt;  </span><br><span class="line">           &lt;version&gt;3.5.5&lt;/version&gt;  </span><br><span class="line">       &lt;/dependency&gt;  </span><br><span class="line">​  </span><br><span class="line">       &lt;!--mysql 驱动--&gt;  </span><br><span class="line">       &lt;dependency&gt;  </span><br><span class="line">           &lt;groupId&gt;mysql&lt;/groupId&gt;  </span><br><span class="line">           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;  </span><br><span class="line">           &lt;version&gt;5.1.22&lt;/version&gt;  </span><br><span class="line">       &lt;/dependency&gt;  </span><br><span class="line">​  </span><br><span class="line">       &lt;!--junit 单元测试--&gt;  </span><br><span class="line">       &lt;dependency&gt;  </span><br><span class="line">           &lt;groupId&gt;junit&lt;/groupId&gt;  </span><br><span class="line">           &lt;artifactId&gt;junit&lt;/artifactId&gt;  </span><br><span class="line">           &lt;version&gt;4.13&lt;/version&gt;  </span><br><span class="line">           &lt;scope&gt;test&lt;/scope&gt;  </span><br><span class="line">       &lt;/dependency&gt;  </span><br><span class="line">   &lt;/dependencies&gt;  </span><br><span class="line">​  </span><br><span class="line">&lt;/project&gt;  </span><br></pre></td></tr></table></figure></li>
<li><p><strong>创建mybatis-config.xml核心配置文件</strong>  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE configuration</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">​</span><br><span class="line">    &lt;settings&gt;</span><br><span class="line">        &lt;!--在控制台显示SQL语句--&gt;</span><br><span class="line">        &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot;/&gt;</span><br><span class="line">    &lt;/settings&gt;</span><br><span class="line">​</span><br><span class="line">    &lt;!--定义实体类别名--&gt;</span><br><span class="line">    &lt;typeAliases&gt;</span><br><span class="line">        &lt;package name=&quot;com.itheima.pojo&quot;/&gt;</span><br><span class="line">    &lt;/typeAliases&gt;</span><br><span class="line">​</span><br><span class="line">    &lt;environments default=&quot;default&quot;&gt;</span><br><span class="line">        &lt;!--环境变量--&gt;</span><br><span class="line">        &lt;environment id=&quot;default&quot;&gt;</span><br><span class="line">            &lt;!--事务管理器--&gt;</span><br><span class="line">            &lt;transactionManager type=&quot;JDBC&quot;/&gt;</span><br><span class="line">            &lt;!--数据源--&gt;</span><br><span class="line">            &lt;dataSource type=&quot;POOLED&quot;&gt;</span><br><span class="line">                &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=false&amp;characterEncoding=utf8&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">            &lt;/dataSource&gt;</span><br><span class="line">        &lt;/environment&gt;</span><br><span class="line">    &lt;/environments&gt;</span><br><span class="line">​</span><br><span class="line">    &lt;!--加载其它映射文件--&gt;</span><br><span class="line">    &lt;mappers&gt;</span><br><span class="line">        &lt;package name=&quot;com.itheima.mapper&quot;/&gt;</span><br><span class="line">    &lt;/mappers&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>实体类 Brand</strong><br>**在 **<code>com.itheima.pojo</code> 包下创建 Brand 实体类。<br><code>package com.itheima.pojo; ​ public class Brand &#123;    // id 主键    private Integer id;    // 品牌名称    private String brandName;    // 企业名称    private String companyName;    // 排序字段    private Integer ordered;    // 描述信息    private String description;    // 状态：0：禁用  1：启用    private Integer status; ​    public Brand() &#123;    &#125; ​    public Brand(Integer id, String brandName, String companyName, Integer ordered, String description, Integer status) &#123;        this.id = id;        this.brandName = brandName;        this.companyName = companyName;        this.ordered = ordered;        this.description = description;        this.status = status;    &#125; ​    public Integer getId() &#123;        return id;    &#125; ​    public void setId(Integer id) &#123;        this.id = id;    &#125; ​    public String getBrandName() &#123;        return brandName;    &#125; ​    public void setBrandName(String brandName) &#123;        this.brandName = brandName;    &#125; ​    public String getCompanyName() &#123;        return companyName;    &#125; ​    public void setCompanyName(String companyName) &#123;        this.companyName = companyName;    &#125; ​    public Integer getOrdered() &#123;        return ordered;    &#125; ​    public void setOrdered(Integer ordered) &#123;        this.ordered = ordered;    &#125; ​    public String getDescription() &#123;        return description;    &#125; ​    public void setDescription(String description) &#123;        this.description = description;    &#125; ​    public Integer getStatus() &#123;        return status;    &#125; ​    public void setStatus(Integer status) &#123;        this.status = status;    &#125; ​    @Override    public String toString() &#123;        return &quot;Brand&#123;&quot; +                &quot;id=&quot; + id +                &quot;, brandName=&#39;&quot; + brandName + &#39;\&#39;&#39; +                &quot;, companyName=&#39;&quot; + companyName + &#39;\&#39;&#39; +                &quot;, ordered=&quot; + ordered +                &quot;, description=&#39;&quot; + description + &#39;\&#39;&#39; +                &quot;, status=&quot; + status +                &#39;&#125;&#39;;    &#125; &#125;</code></p>
</li>
<li><p><strong>编写测试用例</strong><br>**测试代码需要在 **<code>test/java</code> 目录下创建包及测试用例。项目结构如下：<br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20220109101111582.png?lastModify=1659785047" alt="image-20220109101111582">​</p>
</li>
<li><p><strong>安装 MyBatisX 插件</strong></p>
<ul>
<li><p><strong>MybatisX 是一款基于 IDEA 的快速开发插件，为效率而生。</strong></p>
</li>
<li><p><strong>主要功能</strong></p>
<ul>
<li><strong>XML映射配置文件 和 接口方法 间相互跳转</strong></li>
<li>**根据接口方法生成 statement **</li>
</ul>
</li>
<li><p><strong>安装方式</strong><br>**点击 **<code>file</code> ，选择 <code>settings</code> ，就能看到如下图所示界面<br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729113304743.png?lastModify=1659785047" alt="image-20210729113304743">​</p>
<blockquote>
<p><strong>注意：安装完毕后需要重启IDEA</strong></p>
</blockquote>
</li>
<li><p><strong>插件效果</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729164450524.png?lastModify=1659785047" alt="image-20210729164450524"><br>**红色头绳的表示映射配置文件，蓝色头绳的表示mapper接口。在mapper接口点击红色头绳的小鸟图标会自动跳转到对应的映射配置文件，在映射配置文件中点击蓝色头绳的小鸟图标会自动跳转到对应的mapper接口。也可以在mapper接口中定义方法，自动生成映射配置文件中的 **<code>statement</code> ，如图所示<br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729165337223.png?lastModify=1659785047" alt="image-20210729165337223">​</p>
</li>
</ul>
</li>
</ul>
<h3 id="1-2-查询所有数据-学员自己完成"><a href="#1-2-查询所有数据-学员自己完成" class="headerlink" title="1.2  查询所有数据(学员自己完成)"></a>1.2  查询所有数据(学员自己完成)</h3><p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729165724838.png?lastModify=1659785047" alt="image-20210729165724838">​</p>
<p><strong>如上图所示就页面上展示的数据，而这些数据需要从数据库进行查询。接下来我们就来讲查询所有数据功能，而实现该功能我们分以下步骤进行实现：</strong></p>
<ul>
<li><p><strong>编写接口方法：Mapper接口</strong></p>
<ul>
<li><strong>参数：无</strong><br><strong>查询所有数据功能是不需要根据任何条件进行查询的，所以此方法不需要参数。</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729171208737.png?lastModify=1659785047" alt="image-20210729171208737">​</li>
<li><strong>结果：List</strong><Brand><br>**我们会将查询出来的每一条数据封装成一个 **<code>Brand</code> 对象，而多条数据封装多个 <code>Brand</code> 对象，需要将这些对象封装到List集合中返回。</li>
<li><strong>执行方法、测试</strong></li>
</ul>
</li>
</ul>
<h4 id="1-2-1-编写接口方法"><a href="#1-2-1-编写接口方法" class="headerlink" title="1.2.1  编写接口方法"></a>1.2.1  编写接口方法</h4><p>**在 **<code>com.itheima.mapper</code> 包写创建名为 <code>BrandMapper</code> 的接口。并在该接口中定义 <code>List&lt;Brand&gt; selectAll()</code> 方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package com.itheima.mapper;</span><br><span class="line">​</span><br><span class="line">import com.itheima.pojo.Brand;</span><br><span class="line">import org.apache.ibatis.annotations.Select;</span><br><span class="line">​</span><br><span class="line">import java.util.List;</span><br><span class="line">​</span><br><span class="line">public interface BrandMapper &#123;</span><br><span class="line">​</span><br><span class="line">    /**</span><br><span class="line">     * 查询所有</span><br><span class="line">     */</span><br><span class="line">    List&lt;Brand&gt; selectAll();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>编写实体类配置文件，在resources目录下创建目录</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20220109103344026.png?lastModify=1659785047" alt="image-20220109103344026">​</li>
<li><strong>创建配置文件</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20220109103526731.png?lastModify=1659785047" alt="image-20220109103526731">  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE mapper</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;</span><br><span class="line"></span><br><span class="line">&lt;mapper namespace=&quot;com.itheima.mapper.BrandMapper&quot;&gt;</span><br><span class="line">    &lt;!-- 查询所有品牌 --&gt;</span><br><span class="line">    &lt;select id=&quot;selectAll&quot; resultType=&quot;com.itheima.pojo.Brand&quot;&gt;</span><br><span class="line">        select * from tb_brand</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="1-2-2-创建会话工厂类"><a href="#1-2-2-创建会话工厂类" class="headerlink" title="1.2.2 创建会话工厂类"></a>1.2.2 创建会话工厂类</h4><p><strong>在com.itheima.util包下创建工具类</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">package com.itheima.util;</span><br><span class="line">​</span><br><span class="line">import org.apache.ibatis.io.Resources;</span><br><span class="line">import org.apache.ibatis.session.SqlSession;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line">​</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">​</span><br><span class="line">/**</span><br><span class="line"> * 会话工具类</span><br><span class="line"> */</span><br><span class="line">public class MyBatisUtils &#123;</span><br><span class="line">​</span><br><span class="line">    /**</span><br><span class="line">     * 会话工厂的创建类-&gt;会话工厂-&gt;会话</span><br><span class="line">     */</span><br><span class="line">    private static SqlSessionFactory factory;</span><br><span class="line">​</span><br><span class="line">    static &#123;</span><br><span class="line">        //1.会话工厂的创建类</span><br><span class="line">        SqlSessionFactoryBuilder builder = new SqlSessionFactoryBuilder();</span><br><span class="line">        //2.得到配置文件的输入流</span><br><span class="line">        try (InputStream inputStream = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;)) &#123;</span><br><span class="line">            //3.创建会话工厂</span><br><span class="line">            factory = builder.build(inputStream);</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    /**</span><br><span class="line">     * 得到会话对象</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static SqlSession getSession() &#123;</span><br><span class="line">        return factory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">​</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-2-3-编写测试方法"><a href="#1-2-3-编写测试方法" class="headerlink" title="1.2.3  编写测试方法"></a>1.2.3  编写测试方法</h4><p>**在 **<code>MybatisTest</code> 类中编写测试查询所有的方法</p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20220109103109384.png?lastModify=1659785047" alt="image-20220109103109384">​</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package com.itheima.test;</span><br><span class="line">​</span><br><span class="line">import com.itheima.mapper.BrandMapper;</span><br><span class="line">import com.itheima.pojo.Brand;</span><br><span class="line">import com.itheima.util.MyBatisUtils;</span><br><span class="line">import org.apache.ibatis.session.SqlSession;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">​</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.List;</span><br><span class="line">​</span><br><span class="line">public class MyBatisTest &#123;</span><br><span class="line">​</span><br><span class="line">    @Test</span><br><span class="line">    public void testSelectAll() &#123;</span><br><span class="line">        //1. 获取SqlSession对象</span><br><span class="line">        SqlSession sqlSession = MyBatisUtils.getSession();</span><br><span class="line">​</span><br><span class="line">        //2. 获取Mapper接口的代理对象</span><br><span class="line">        BrandMapper brandMapper = sqlSession.getMapper(BrandMapper.class);</span><br><span class="line">​</span><br><span class="line">        //3. 执行方法</span><br><span class="line">        List&lt;Brand&gt; brands = brandMapper.selectAll();</span><br><span class="line">        System.out.println(brands);</span><br><span class="line">​</span><br><span class="line">        //4. 释放资源</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：现在我们感觉测试这部分代码写起来特别麻烦，我们可以先忍忍。以后我们只会写上面的第3步的代码，其他的都不需要我们来完成。</strong></p>
</blockquote>
<p><strong>执行测试方法结果如下：</strong></p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729172544230.png?lastModify=1659785047" alt="image-20210729172544230">​</p>
<p><strong>从上面结果我们看到了问题，有些数据封装成功了，而有些数据并没有封装成功。为什么这样呢？</strong></p>
<p><strong>这个问题可以通过两种方式进行解决：</strong></p>
<ul>
<li><strong>给字段起别名</strong></li>
<li><strong>使用resultMap定义字段和属性的映射关系</strong></li>
</ul>
<h4 id="1-2-4-起别名解决上述问题"><a href="#1-2-4-起别名解决上述问题" class="headerlink" title="1.2.4  起别名解决上述问题"></a>1.2.4  起别名解决上述问题</h4><p>**从上面结果可以看到 **<code>brandName</code> 和 <code>companyName</code> 这两个属性的数据没有封装成功，查询 实体类 和 表中的字段 发现，在实体类中属性名是 <code>brandName</code> 和 <code>companyName</code> ，而表中的字段名为 <code>brand_name</code> 和 <code>company_name</code>，如下图所示 。那么我们只需要保持这两部分的名称一致这个问题就迎刃而解。</p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729173210433.png?lastModify=1659785047" alt="image-20210729173210433">​</p>
<p><strong>我们可以在写sql语句时给这两个字段起别名，将别名定义成和属性名一致即可。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;selectAll&quot; resultType=&quot;brand&quot;&gt;</span><br><span class="line">    select</span><br><span class="line">    id, brand_name as brandName, company_name as companyName, ordered, description, status</span><br><span class="line">    from tb_brand;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>

<p><strong>而上面的SQL语句中的字段列表书写麻烦，如果表中还有更多的字段，同时其他的功能也需要查询这些字段时就显得我们的代码不够精炼。Mybatis提供了</strong><code>sql</code> 片段可以提高sql的复用性。</p>
<h4 id="1-2-5-使用resultMap解决上述问题"><a href="#1-2-5-使用resultMap解决上述问题" class="headerlink" title="1.2.5  使用resultMap解决上述问题"></a>1.2.5  使用resultMap解决上述问题</h4><p><strong>起别名 + sql片段的方式可以解决上述问题，但是它也存在问题。如果还有功能只需要查询部分字段，而不是查询所有字段，那么我们就需要再定义一个 SQL 片段，这就显得不是那么灵活。</strong></p>
<p><strong>那么我们也可以使用resultMap来定义字段和属性的映射关系的方式解决上述问题。</strong></p>
<ul>
<li><p><strong>在映射配置文件中使用resultMap定义 字段 和 属性 的映射关系</strong><br><code>&lt;resultMap id=&quot;brandResultMap&quot; type=&quot;brand&quot;&gt;    &lt;!--            id：完成主键字段的映射                column：表的列名                property：实体类的属性名            result：完成一般字段的映射                column：表的列名                property：实体类的属性名        --&gt;    &lt;result column=&quot;brand_name&quot; property=&quot;brandName&quot;/&gt;    &lt;result column=&quot;company_name&quot; property=&quot;companyName&quot;/&gt; &lt;/resultMap&gt;</code></p>
<blockquote>
<p><strong>注意：在上面只需要定义 字段名 和 属性名 不一样的映射，而一样的则不需要专门定义出来。</strong></p>
</blockquote>
</li>
<li><p><strong>SQL语句正常编写</strong><br><code>&lt;select id=&quot;selectAll&quot; resultMap=&quot;brandResultMap&quot;&gt;    select *    from tb_brand; &lt;/select&gt;</code></p>
</li>
</ul>
<h4 id="1-2-6-在核心配置文件中进行以下配置-推荐"><a href="#1-2-6-在核心配置文件中进行以下配置-推荐" class="headerlink" title="1.2.6 在核心配置文件中进行以下配置(推荐)"></a>1.2.6 在核心配置文件中进行以下配置(推荐)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;settings&gt;</span><br><span class="line">    &lt;!--映射下划线为驼峰命名法--&gt;</span><br><span class="line">    &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;</span><br><span class="line">&lt;/settings&gt;</span><br></pre></td></tr></table></figure>

<p><strong>那么在实体类映射文件中就可以正常编写</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 查询所有品牌 --&gt;</span><br><span class="line">&lt;select id=&quot;selectAll&quot; resultType=&quot;brand&quot;&gt;</span><br><span class="line">    select * from tb_brand</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-2-7-小结"><a href="#1-2-7-小结" class="headerlink" title="1.2.7  小结"></a>1.2.7  小结</h4><p><strong>实体类属性名 和 数据库表列名 不一致，不能自动封装数据</strong></p>
<ul>
<li><p>&#x3D;起别名：&#x3D;在SQL语句中，对不一样的列名起别名，别名和实体类属性名一样</p>
<ul>
<li>**可以定义 **<sql>**片段，提升复用性 **</li>
</ul>
</li>
<li><p>&#x3D;resultMap：&#x3D;定义**<resultMap>** 完成不一致的属性名和列名的映射</p>
</li>
</ul>
<p><strong>而我们最终选择使用 resultMap的方式。查询映射配置文件中查询所有的 statement 书写如下：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> &lt;resultMap id=&quot;brandResultMap&quot; type=&quot;brand&quot;&gt;</span><br><span class="line">     &lt;!--</span><br><span class="line">            id：完成主键字段的映射</span><br><span class="line">                column：表的列名</span><br><span class="line">                property：实体类的属性名</span><br><span class="line">            result：完成一般字段的映射</span><br><span class="line">                column：表的列名</span><br><span class="line">                property：实体类的属性名</span><br><span class="line">        --&gt;</span><br><span class="line">     &lt;result column=&quot;brand_name&quot; property=&quot;brandName&quot;/&gt;</span><br><span class="line">     &lt;result column=&quot;company_name&quot; property=&quot;companyName&quot;/&gt;</span><br><span class="line">&lt;/resultMap&gt;</span><br><span class="line">​</span><br><span class="line">​</span><br><span class="line">​</span><br><span class="line">&lt;select id=&quot;selectAll&quot; resultMap=&quot;brandResultMap&quot;&gt;</span><br><span class="line">    select *</span><br><span class="line">    from tb_brand;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-查询详情"><a href="#1-3-查询详情" class="headerlink" title="1.3  查询详情"></a>1.3  查询详情</h3><p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729180118287.png?lastModify=1659785047" alt="image-20210729180118287">​</p>
<p>**有些数据的属性比较多，在页面表格中无法全部实现，而只会显示部分，而其他属性数据的查询可以通过 **<code>查看详情</code> 来进行查询，如上图所示。</p>
<p><strong>查看详情功能实现步骤：</strong></p>
<ul>
<li><p><strong>编写接口方法：Mapper接口</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729180604529.png?lastModify=1659785047" alt="image-20210729180604529">​</p>
<ul>
<li><strong>参数：id</strong><br><strong>查看详情就是查询某一行数据，所以需要根据id进行查询。而id以后是由页面传递过来。</strong></li>
<li><strong>结果：Brand</strong><br><strong>根据id查询出来的数据只要一条，而将一条数据封装成一个Brand对象即可</strong></li>
</ul>
</li>
<li><p><strong>编写SQL语句：SQL映射文件</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729180709318.png?lastModify=1659785047" alt="image-20210729180709318">​</p>
</li>
<li><p><strong>执行方法、进行测试</strong></p>
</li>
</ul>
<h4 id="1-3-1-编写接口方法"><a href="#1-3-1-编写接口方法" class="headerlink" title="1.3.1  编写接口方法"></a>1.3.1  编写接口方法</h4><p>**在 **<code>BrandMapper</code> 接口中定义根据id查询数据的方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">  * 查看详情：根据Id查询</span><br><span class="line">  */</span><br><span class="line">Brand selectById(int id);</span><br></pre></td></tr></table></figure>

<h4 id="1-3-2-编写SQL语句"><a href="#1-3-2-编写SQL语句" class="headerlink" title="1.3.2  编写SQL语句"></a>1.3.2  编写SQL语句</h4><p>**在 **<code>BrandMapper.xml</code> 映射配置文件中编写 <code>statement</code>，使用 <code>resultMap</code> 而不是使用 <code>resultType</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;selectById&quot; resultType=&quot;brand&quot;&gt;</span><br><span class="line">    select *</span><br><span class="line">    from tb_brand</span><br><span class="line">    where id = #&#123;id&#125;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：上述SQL中的 #{id}先这样写，一会我们再详细讲解</strong></p>
</blockquote>
<h4 id="1-3-3-编写测试方法"><a href="#1-3-3-编写测试方法" class="headerlink" title="1.3.3  编写测试方法"></a>1.3.3  编写测试方法</h4><p>**在 **<code>test/java</code> 下的 <code>com.itheima.mapper</code>  包下的 <code>MybatisTest类中</code> 定义测试方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testSelectById() throws IOException &#123;</span><br><span class="line">    //接收参数，该id以后需要传递过来</span><br><span class="line">    int id = 1;</span><br><span class="line">​</span><br><span class="line">    SqlSession sqlSession = MyBatisUtils.getSession();</span><br><span class="line">​</span><br><span class="line">    //3. 获取Mapper接口的代理对象</span><br><span class="line">    BrandMapper brandMapper = sqlSession.getMapper(BrandMapper.class);</span><br><span class="line">​</span><br><span class="line">    //4. 执行方法</span><br><span class="line">    Brand brand = brandMapper.selectById(id);</span><br><span class="line">    System.out.println(brand);</span><br><span class="line">​</span><br><span class="line">    //5. 释放资源</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>执行测试方法结果如下：</strong></p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729182223137.png?lastModify=1659785047" alt="image-20210729182223137">​</p>
<h4 id="1-3-4-参数占位符"><a href="#1-3-4-参数占位符" class="headerlink" title="1.3.4  参数占位符"></a>1.3.4  参数占位符</h4><p>**查询到的结果很好理解就是id为1的这行数据。而这里我们需要看控制台显示的SQL语句，能看到使用？进行占位。说明我们在映射配置文件中的写的 **<code>#&#123;id&#125;</code> 最终会被？进行占位。接下来我们就聊聊映射配置文件中的参数占位符。</p>
<p><strong>mybatis提供了两种参数占位符：</strong></p>
<ul>
<li><p>**#{} ：执行SQL时，会将 #{} 占位符替换为？，将来自动设置参数值。从上述例子可以看出使用#{} 底层使用的是 **<code>PreparedStatement</code>，如果是字符串会自动加上单引号。</p>
</li>
<li><p>**{} ：拼接SQL。底层使用的是 <code>Statement</code>，会存在SQL注入问题。如下图将 映射配置文件中的 #{} 替换成 **{} 来看效果，如果是字符串不会加单引号。<br><code>&lt;select id=&quot;selectById&quot; resultType=&quot;brand&quot;&gt;    select *    from tb_brand where id = $&#123;id&#125; &lt;/select&gt;</code></p>
<p><strong>重新运行查看结果如下：</strong></p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729184156019.png?lastModify=1659785047" alt="image-20210729184156019">​</p>
</li>
</ul>
<blockquote>
<p>&#x3D;注意：&#x3D;从上面两个例子可以看出，以后开发我们使用 #{} 参数占位符。</p>
</blockquote>
<h4 id="1-3-6-SQL语句中特殊字段处理"><a href="#1-3-6-SQL语句中特殊字段处理" class="headerlink" title="1.3.6  SQL语句中特殊字段处理"></a>1.3.6  SQL语句中特殊字段处理</h4><p><strong>以后肯定会在SQL语句中写一下特殊字符，比如某一个字段大于某个值，如下图</strong></p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729184756094.png?lastModify=1659785047" alt="image-20210729184756094">​</p>
<p><strong>可以看出报错了，因为映射配置文件是xml类型的问题，而 &gt; &lt; 等这些字符在xml中有特殊含义，所以此时我们需要将这些符号进行转义，可以使用以下两种方式进行转义</strong></p>
<ul>
<li><strong>转义字符</strong><br>**下图的 **<code>&amp;lt;</code> 就是 <code>&lt;</code> 的转义字符。<br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729185128686.png?lastModify=1659785047" alt="image-20210729185128686">​</li>
<li><strong><![CDATA[内容]]></strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729185030318.png?lastModify=1659785047" alt="image-20210729185030318">​</li>
</ul>
<h3 id="1-4-多条件查询"><a href="#1-4-多条件查询" class="headerlink" title="1.4  多条件查询"></a>1.4  多条件查询</h3><p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729203804276.png?lastModify=1659785047" alt="image-20210729203804276">​</p>
<p><strong>我们经常会遇到如上图所示的多条件查询，将多条件查询的结果展示在下方的数据列表中。而我们做这个功能需要分析最终的SQL语句应该是什么样，思考两个问题</strong></p>
<ul>
<li><strong>条件表达式</strong></li>
<li><strong>如何连接</strong></li>
</ul>
<p>**条件字段 **<code>企业名称</code>  和 <code>品牌名称</code> 需要进行模糊查询，所以条件应该是：</p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729204458815.png?lastModify=1659785047" alt="image-20210729204458815">​</p>
<p><strong>简单的分析后，我们来看功能实现的步骤：</strong></p>
<ul>
<li><p><strong>编写接口方法</strong></p>
<ul>
<li><strong>参数：所有查询条件</strong></li>
<li><strong>结果：List</strong><Brand></li>
</ul>
</li>
<li><p><strong>在映射配置文件中编写SQL语句</strong></p>
</li>
<li><p><strong>编写测试方法并执行</strong></p>
</li>
</ul>
<h4 id="1-4-1-编写接口方法"><a href="#1-4-1-编写接口方法" class="headerlink" title="1.4.1  编写接口方法"></a>1.4.1  编写接口方法</h4><p>**在 **<code>BrandMapper</code> 接口中定义多条件查询的方法。</p>
<p><strong>而该功能有三个参数，我们就需要考虑定义接口时，参数应该如何定义。Mybatis针对多参数有多种实现</strong></p>
<p><strong>在BrandMapper.java中编写方法</strong></p>
<p><strong>注：mybatis的接口中不支持方法重载，即相同的方法名不能出现2次</strong></p>
<ul>
<li>**使用 **<code>@Param(&quot;参数名称&quot;)</code> 标记每一个参数，在映射配置文件中就需要使用 <code>#&#123;参数名称&#125;</code> 进行占位<br><code>List&lt;Brand&gt; selectByCondition(@Param(&quot;status&quot;) int status, @Param(&quot;companyName&quot;) String companyName,@Param(&quot;brandName&quot;) String brandName);</code></li>
<li>**将多个参数封装成一个 实体对象 ，将该实体对象作为接口的方法参数。该方式要求在映射配置文件的SQL中使用 **<code>#&#123;内容&#125;</code> 时，里面的内容必须和实体类属性名保持一致。<br><code>List&lt;Brand&gt; selectByCondition(Brand brand);</code></li>
<li>**将多个参数封装到map集合中，将map集合作为接口的方法参数。该方式要求在映射配置文件的SQL中使用 **<code>#&#123;内容&#125;</code> 时，里面的内容必须和map集合中键的名称一致。<br><code>List&lt;Brand&gt; selectByCondition(Map map);</code></li>
</ul>
<p><strong>注：以上三种方式xml中编写的SQL语句是一样的</strong></p>
<h4 id="1-4-2-编写SQL语句"><a href="#1-4-2-编写SQL语句" class="headerlink" title="1.4.2  编写SQL语句"></a>1.4.2  编写SQL语句</h4><p>**在 **<code>BrandMapper.xml</code> 映射配置文件中编写 <code>statement</code></p>
<p><strong>注：模糊查询前后加双引号引起%，相当于拼接字符串。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;selectByCondition&quot; resultType=&quot;brand&quot;&gt;</span><br><span class="line">    select *</span><br><span class="line">    from tb_brand</span><br><span class="line">    where status = #&#123;status&#125;</span><br><span class="line">      and company_name like &quot;%&quot;#&#123;companyName&#125;&quot;%&quot;</span><br><span class="line">      and brand_name like &quot;%&quot;#&#123;brandName&#125;&quot;%&quot;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-4-3-编写测试方法"><a href="#1-4-3-编写测试方法" class="headerlink" title="1.4.3  编写测试方法"></a>1.4.3  编写测试方法</h4><p>**在 **<code>test/java</code> 下的 <code>com.itheima.mapper</code>  包下的 <code>MybatisTest类中</code> 定义测试方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 带条件查询</span><br><span class="line"> */</span><br><span class="line">@Test</span><br><span class="line">public void testSelectByCondition() &#123;</span><br><span class="line">    //1. 接收参数</span><br><span class="line">    int status = 1;</span><br><span class="line">    String companyName = &quot;华为&quot;;</span><br><span class="line">    String brandName = &quot;华为&quot;;</span><br><span class="line">​</span><br><span class="line">    //2. 获取SqlSession对象</span><br><span class="line">    SqlSession sqlSession = MyBatisUtils.getSession();</span><br><span class="line">    //3. 获取Mapper接口的代理对象</span><br><span class="line">    BrandMapper brandMapper = sqlSession.getMapper(BrandMapper.class);</span><br><span class="line">​</span><br><span class="line">    //4. 执行方法</span><br><span class="line">    // 方式一 ：接口方法参数使用 @Param 方式调用的方法</span><br><span class="line">    //List&lt;Brand&gt; brands = brandMapper.selectByCondition(status, companyName, brandName);</span><br><span class="line">​</span><br><span class="line">    //方式二 ：接口方法参数是 实体类对象 方式调用的方法</span><br><span class="line">    //封装对象</span><br><span class="line">    //Brand brand = new Brand();</span><br><span class="line">    //brand.setStatus(status);</span><br><span class="line">    //brand.setCompanyName(companyName);</span><br><span class="line">    //brand.setBrandName(brandName);</span><br><span class="line">​</span><br><span class="line">    //List&lt;Brand&gt; brands = brandMapper.selectByCondition(brand);</span><br><span class="line">​</span><br><span class="line">    //方式三 ：接口方法参数是 map集合对象 方式调用的方法</span><br><span class="line">    Map map = new HashMap();</span><br><span class="line">    map.put(&quot;status&quot; , status);</span><br><span class="line">    map.put(&quot;companyName&quot;, companyName);</span><br><span class="line">    map.put(&quot;brandName&quot; , brandName);</span><br><span class="line">    List&lt;Brand&gt; brands = brandMapper.selectByCondition(map);</span><br><span class="line">    System.out.println(brands);</span><br><span class="line">    </span><br><span class="line">    //输出</span><br><span class="line">    brands.forEach(System.out::println);</span><br><span class="line">    //5. 释放资源</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-4-4-动态SQL"><a href="#1-4-4-动态SQL" class="headerlink" title="1.4.4  动态SQL"></a>1.4.4  动态SQL</h4><p><strong>上述功能 实现存在很大的问题。用户在输入条件时，肯定不会所有的条件都填写，这个时候我们的SQL语句就不能那样写的</strong></p>
<p><strong>例如用户只输入 当前状态 时，SQL语句就是</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from tb_brand where status = #&#123;status&#125;</span><br></pre></td></tr></table></figure>

<p><strong>而用户如果只输入企业名称时，SQL语句就是</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from tb_brand where company_name like #&#123;companName&#125;</span><br></pre></td></tr></table></figure>

<p>**而用户如果输入了 **<code>当前状态</code> 和 <code>企业名称</code> 时，SQL语句又不一样</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from tb_brand where status = #&#123;status&#125; and company_name like #&#123;companName&#125;</span><br></pre></td></tr></table></figure>

<p><strong>针对上述的需要，Mybatis对动态SQL有很强大的支撑：</strong></p>
<blockquote>
<ul>
<li><strong>if</strong></li>
<li><strong>choose (when, otherwise)</strong></li>
<li><strong>trim (where, set)</strong></li>
<li><strong>foreach</strong></li>
</ul>
</blockquote>
<p><strong>我们先学习 if 标签和 where 标签：</strong></p>
<ul>
<li><p><strong>if 标签：条件判断</strong></p>
<ul>
<li><strong>test 属性：逻辑表达式</strong></li>
</ul>
<p><code>&lt;select id=&quot;selectByCondition&quot; resultType=&quot;brand&quot;&gt;    select *    from tb_brand    where    &lt;if test=&quot;status != null&quot;&gt;        status = #&#123;status&#125;    &lt;/if&gt;    &lt;if test=&quot;companyName != null and companyName != &#39;&#39; &quot;&gt;        and company_name like &quot;%&quot;#&#123;companyName&#125;&quot;%&quot;    &lt;/if&gt;    &lt;if test=&quot;brandName != null and brandName != &#39;&#39; &quot;&gt;        and brand_name like &quot;%&quot;#&#123;brandName&#125;&quot;%&quot;    &lt;/if&gt; &lt;/select&gt;</code></p>
<p><code>Map map = new HashMap(); map.put(&quot;status&quot; , status); map.put(&quot;companyName&quot;, companyName); //map.put(&quot;brandName&quot; , brandName);</code></p>
<p><strong>如上的这种SQL语句就会根据传递的参数值进行动态的拼接。如果此时status和companyName有值那么就会值拼接这两个条件。</strong></p>
<p><strong>执行结果如下：</strong></p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729212510291.png?lastModify=1659785047" alt="image-20210729212510291">​</p>
<p><strong>但是它也存在问题，如果此时给的参数值是</strong></p>
<p><code>Map map = new HashMap(); // map.put(&quot;status&quot; , status); map.put(&quot;companyName&quot;, companyName); map.put(&quot;brandName&quot; , brandName);</code></p>
<p><strong>拼接的SQL语句就变成了</strong></p>
<p><code>select * from tb_brand where and company_name like ? and brand_name like ?</code></p>
<p><strong>而上面的语句中 where 关键后直接跟 and 关键字，这就是一条错误的SQL语句。这个就可以使用 where 标签解决</strong></p>
</li>
<li><p><strong>where 标签</strong></p>
<ul>
<li><p><strong>作用：</strong></p>
<ul>
<li><strong>替换where关键字</strong></li>
<li>**会动态的去掉第一个条件前的 and **</li>
<li><strong>如果所有的参数没有值则不加where关键字</strong></li>
</ul>
</li>
</ul>
<p><code>&lt;select id=&quot;selectByCondition&quot; resultType=&quot;brand&quot;&gt;    select *    from tb_brand    &lt;where&gt;        &lt;if test=&quot;status != null&quot;&gt;            status = #&#123;status&#125;        &lt;/if&gt;        &lt;if test=&quot;companyName != null and companyName != &#39;&#39; &quot;&gt;            and company_name like &quot;%&quot;#&#123;companyName&#125;&quot;%&quot;        &lt;/if&gt;        &lt;if test=&quot;brandName != null and brandName != &#39;&#39; &quot;&gt;            and brand_name like &quot;%&quot;#&#123;brandName&#125;&quot;%&quot;        &lt;/if&gt;    &lt;/where&gt; &lt;/select&gt;</code></p>
<blockquote>
<p><strong>注意：需要给每个条件前都加上 and 关键字。</strong></p>
</blockquote>
</li>
</ul>
<h3 id="1-5-单个条件（动态SQL）"><a href="#1-5-单个条件（动态SQL）" class="headerlink" title="1.5 单个条件（动态SQL）"></a>1.5 单个条件（动态SQL）</h3><p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729213613029.png?lastModify=1659785047" alt="image-20210729213613029">​</p>
<p>**如上图所示，在查询时只能选择 **<code>品牌名称</code>、<code>当前状态</code>、<code>企业名称</code> 这三个条件中的一个，但是用户到底选择哪儿一个，我们并不能确定。这种就属于单个条件的动态SQL语句。</p>
<p>**这种需求需要使用到  **<code>choose（when，otherwise）标签</code>  实现，  而 <code>choose</code> 标签类似于Java 中的switch语句。</p>
<p><strong>通过一个案例来使用这些标签</strong></p>
<h4 id="1-5-1-编写接口方法"><a href="#1-5-1-编写接口方法" class="headerlink" title="1.5.1  编写接口方法"></a>1.5.1  编写接口方法</h4><p>**在 **<code>BrandMapper</code> 接口中定义单条件查询的方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">  * 单条件动态查询</span><br><span class="line">  * @param brand</span><br><span class="line">  * @return</span><br><span class="line">  */</span><br><span class="line">List&lt;Brand&gt; selectByConditionSingle(Brand brand);</span><br></pre></td></tr></table></figure>

<h4 id="1-5-2-编写SQL语句"><a href="#1-5-2-编写SQL语句" class="headerlink" title="1.5.2  编写SQL语句"></a>1.5.2  编写SQL语句</h4><p>**在 **<code>BrandMapper.xml</code> 映射配置文件中编写 <code>statement</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;selectByConditionSingle&quot; resultType=&quot;brand&quot;&gt;</span><br><span class="line">    select *</span><br><span class="line">    from tb_brand</span><br><span class="line">    &lt;where&gt;</span><br><span class="line">        &lt;choose&gt;&lt;!--相当于switch--&gt;</span><br><span class="line">            &lt;when test=&quot;status != null&quot;&gt;&lt;!--相当于case--&gt;</span><br><span class="line">                status = #&#123;status&#125;</span><br><span class="line">            &lt;/when&gt;</span><br><span class="line">            &lt;when test=&quot;companyName != null and companyName != &#x27;&#x27; &quot;&gt;&lt;!--相当于case--&gt;</span><br><span class="line">                company_name like #&#123;companyName&#125;</span><br><span class="line">            &lt;/when&gt;</span><br><span class="line">            &lt;when test=&quot;brandName != null and brandName != &#x27;&#x27;&quot;&gt;&lt;!--相当于case--&gt;</span><br><span class="line">                brand_name like #&#123;brandName&#125;</span><br><span class="line">            &lt;/when&gt;</span><br><span class="line">            &lt;!-- 也可以使用otherwise，相当于default --&gt;</span><br><span class="line">        &lt;/choose&gt;</span><br><span class="line">    &lt;/where&gt;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-5-3-编写测试方法"><a href="#1-5-3-编写测试方法" class="headerlink" title="1.5.3  编写测试方法"></a>1.5.3  编写测试方法</h4><p>**在 **<code>test/java</code> 下的 <code>com.itheima.mapper</code>  包下的 <code>MybatisTest类中</code> 定义测试方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 带条件查询</span><br><span class="line"> */</span><br><span class="line">@Test</span><br><span class="line">public void testSelectByCondition() &#123;</span><br><span class="line">    //1. 接收参数</span><br><span class="line">    int status = 1;</span><br><span class="line">    String companyName = &quot;华为&quot;;</span><br><span class="line">    String brandName = &quot;华为&quot;;</span><br><span class="line">​</span><br><span class="line">    //2. 获取SqlSession对象</span><br><span class="line">    SqlSession sqlSession = MyBatisUtils.getSession();</span><br><span class="line">    //3. 获取Mapper接口的代理对象</span><br><span class="line">    BrandMapper brandMapper = sqlSession.getMapper(BrandMapper.class);</span><br><span class="line">​</span><br><span class="line">    //4. 执行方法</span><br><span class="line">    //接口方法参数是 map集合对象 方式调用的方法</span><br><span class="line">    Map map = new HashMap();</span><br><span class="line">    map.put(&quot;status&quot;, status);</span><br><span class="line">    map.put(&quot;companyName&quot;, companyName);</span><br><span class="line">    map.put(&quot;brandName&quot;, brandName);</span><br><span class="line">    List&lt;Brand&gt; brands = brandMapper.selectByCondition(map);</span><br><span class="line">    System.out.println(brands);</span><br><span class="line">​</span><br><span class="line">    //输出</span><br><span class="line">    brands.forEach(System.out::println);</span><br><span class="line">    //5. 释放资源</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>执行测试方法结果如下：</strong></p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729214548756.png?lastModify=1659785047" alt="image-20210729214548756">​</p>
<h3 id="1-6-添加数据"><a href="#1-6-添加数据" class="headerlink" title="1.6  添加数据"></a>1.6  添加数据</h3><p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729214917317.png?lastModify=1659785047" alt="image-20210729214917317">​</p>
<p>**如上图是我们平时在添加数据时展示的页面，而我们在该页面输入想要的数据后添加 **<code>提交</code> 按钮，就会将这些数据添加到数据库中。接下来我们就来实现添加数据的操作。</p>
<ul>
<li><strong>编写接口方法</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729215351651.png?lastModify=1659785047" alt="image-20210729215351651"><br>**参数：除了id之外的所有的数据。id对应的是表中主键值，而主键我们是 **&#x3D;自动增长&#x3D; 生成的。</li>
<li><strong>编写SQL语句</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729215537167.png?lastModify=1659785047" alt="image-20210729215537167">​</li>
<li><strong>编写测试方法并执行</strong></li>
</ul>
<p><strong>明确了该功能实现的步骤后，接下来我们进行具体的操作。</strong></p>
<h4 id="1-6-1-编写接口方法"><a href="#1-6-1-编写接口方法" class="headerlink" title="1.6.1  编写接口方法"></a>1.6.1  编写接口方法</h4><p>**在 **<code>BrandMapper</code> 接口中定义添加方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> /**</span><br><span class="line">   * 添加</span><br><span class="line">   */</span><br><span class="line">int add(Brand brand);</span><br></pre></td></tr></table></figure>

<h4 id="1-6-2-编写SQL语句"><a href="#1-6-2-编写SQL语句" class="headerlink" title="1.6.2  编写SQL语句"></a>1.6.2  编写SQL语句</h4><p>**在 **<code>BrandMapper.xml</code> 映射配置文件中编写添加数据的 <code>statement</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert id=&quot;add&quot;&gt;</span><br><span class="line">    insert into tb_brand (brand_name, company_name, ordered, description, status)</span><br><span class="line">    values (#&#123;brandName&#125;, #&#123;companyName&#125;, #&#123;ordered&#125;, #&#123;description&#125;, #&#123;status&#125;);</span><br><span class="line">&lt;/insert&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-6-3-编写测试方法"><a href="#1-6-3-编写测试方法" class="headerlink" title="1.6.3  编写测试方法"></a>1.6.3  编写测试方法</h4><p>**在 **<code>test/java</code> 下的 <code>com.itheima.mapper</code>  包下的 <code>MybatisTest类中</code> 定义测试方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testAdd() throws IOException &#123;</span><br><span class="line">    //接收参数</span><br><span class="line">    int status = 1;</span><br><span class="line">    String companyName = &quot;波导手机&quot;;</span><br><span class="line">    String brandName = &quot;波导&quot;;</span><br><span class="line">    String description = &quot;手机中的战斗机&quot;;</span><br><span class="line">    int ordered = 100;</span><br><span class="line">​</span><br><span class="line">    //封装对象</span><br><span class="line">    Brand brand = new Brand();</span><br><span class="line">    brand.setStatus(status);</span><br><span class="line">    brand.setCompanyName(companyName);</span><br><span class="line">    brand.setBrandName(brandName);</span><br><span class="line">    brand.setDescription(description);</span><br><span class="line">    brand.setOrdered(ordered);</span><br><span class="line">​</span><br><span class="line">    //1. 获取SqlSessionFactory</span><br><span class="line">    String resource = &quot;mybatis-config.xml&quot;;</span><br><span class="line">    InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">    //2. 获取SqlSession对象</span><br><span class="line">    SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">    //SqlSession sqlSession = sqlSessionFactory.openSession(true); //设置自动提交事务，这种情况不需要手动提交事务了</span><br><span class="line">    //3. 获取Mapper接口的代理对象</span><br><span class="line">    BrandMapper brandMapper = sqlSession.getMapper(BrandMapper.class);</span><br><span class="line">    //4. 执行方法</span><br><span class="line">    brandMapper.add(brand);</span><br><span class="line">    //提交事务</span><br><span class="line">    sqlSession.commit();</span><br><span class="line">    //5. 释放资源</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>执行结果如下：</strong></p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729220348255.png?lastModify=1659785047" alt="image-20210729220348255">​</p>
<h4 id="1-6-4-添加-主键返回"><a href="#1-6-4-添加-主键返回" class="headerlink" title="1.6.4  添加-主键返回"></a>1.6.4  添加-主键返回</h4><p><strong>在数据添加成功后，有时候需要获取插入数据库数据的主键（主键是自增长）。</strong></p>
<p><strong>比如：添加订单和订单项，如下图就是京东上的订单</strong></p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729221207962.png?lastModify=1659785047" alt="image-20210729221207962">​</p>
<p><strong>订单数据存储在订单表中，订单项存储在订单项表中。</strong></p>
<ul>
<li><strong>添加订单数据</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729221049462.png?lastModify=1659785047" alt="image-20210729221049462">​</li>
<li><strong>添加订单项数据，订单项中需要设置所属订单的id</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729221058898.png?lastModify=1659785047" alt="image-20210729221058898">​</li>
</ul>
<p>**明白了什么时候 **<code>主键返回</code> 。接下来我们简单模拟一下，在添加完数据后打印id属性值，能打印出来说明已经获取到了。</p>
<p>**我们将上面添加品牌数据的案例中映射配置文件里 **<code>statement</code> 进行修改，如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert id=&quot;add&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;</span><br><span class="line">    insert into tb_brand (brand_name, company_name, ordered, description, status)</span><br><span class="line">    values (#&#123;brandName&#125;, #&#123;companyName&#125;, #&#123;ordered&#125;, #&#123;description&#125;, #&#123;status&#125;);</span><br><span class="line">&lt;/insert&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>在 insert 标签上添加如下属性：</strong></p>
<ul>
<li><strong>useGeneratedKeys：是够获取自动增长的主键值。true表示获取</strong></li>
<li><strong>keyProperty  ：指定将获取到的主键值封装到哪儿个属性里</strong></li>
</ul>
</blockquote>
<p><strong>后期可以通过以下代码获取新加的主键：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(&quot;新的主键是：&quot; + brand.getId());</span><br></pre></td></tr></table></figure>

<h3 id="1-7-修改"><a href="#1-7-修改" class="headerlink" title="1.7  修改"></a>1.7  修改</h3><p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729222642700.png?lastModify=1659785047" alt="image-20210729222642700">​</p>
<p>**如图所示是修改页面，用户在该页面书写需要修改的数据，点击 **<code>提交</code> 按钮，就会将数据库中对应的数据进行修改。注意一点，如果哪儿个输入框没有输入内容，我们是将表中数据对应字段值替换为空白还是保留字段之前的值？答案肯定是保留之前的数据。</p>
<p><strong>接下来我们就具体来实现</strong></p>
<h4 id="1-7-1-编写接口方法"><a href="#1-7-1-编写接口方法" class="headerlink" title="1.7.1  编写接口方法"></a>1.7.1  编写接口方法</h4><p>**在 **<code>BrandMapper</code> 接口中定义修改方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> /**</span><br><span class="line">   * 修改</span><br><span class="line">   */</span><br><span class="line">int update(Brand brand);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>上述方法参数 Brand 就是封装了需要修改的数据，而id肯定是有数据的，这也是和添加方法的区别。</strong></p>
</blockquote>
<h4 id="1-7-2-编写SQL语句"><a href="#1-7-2-编写SQL语句" class="headerlink" title="1.7.2  编写SQL语句"></a>1.7.2  编写SQL语句</h4><p>**在 **<code>BrandMapper.xml</code> 映射配置文件中编写修改数据的 <code>statement</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;update id=&quot;update&quot;&gt;</span><br><span class="line">    update tb_brand</span><br><span class="line">    &lt;set&gt;</span><br><span class="line">        &lt;if test=&quot;brandName != null and brandName != &#x27;&#x27;&quot;&gt;</span><br><span class="line">            brand_name = #&#123;brandName&#125;,</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">        &lt;if test=&quot;companyName != null and companyName != &#x27;&#x27;&quot;&gt;</span><br><span class="line">            company_name = #&#123;companyName&#125;,</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">        &lt;if test=&quot;ordered != null&quot;&gt;</span><br><span class="line">            ordered = #&#123;ordered&#125;,</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">        &lt;if test=&quot;description != null and description != &#x27;&#x27;&quot;&gt;</span><br><span class="line">            description = #&#123;description&#125;,</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">        &lt;if test=&quot;status != null&quot;&gt;</span><br><span class="line">            status = #&#123;status&#125;</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">    &lt;/set&gt;</span><br><span class="line">    where id = #&#123;id&#125;;</span><br><span class="line">&lt;/update&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><em>set</em> 标签可以用于动态包含需要更新的列，忽略其它不更新的列。</p>
</blockquote>
<h4 id="1-7-3-编写测试方法"><a href="#1-7-3-编写测试方法" class="headerlink" title="1.7.3  编写测试方法"></a>1.7.3  编写测试方法</h4><p>**在 **<code>test/java</code> 下的 <code>com.itheima.mapper</code>  包下的 <code>MybatisTest类中</code> 定义测试方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testUpdate() throws IOException &#123;</span><br><span class="line">    //接收参数</span><br><span class="line">    int status = 0;</span><br><span class="line">    String companyName = &quot;波导手机&quot;;</span><br><span class="line">    String brandName = &quot;波导&quot;;</span><br><span class="line">    String description = &quot;波导手机,手机中的战斗机&quot;;</span><br><span class="line">    int ordered = 200;</span><br><span class="line">    int id = 6;</span><br><span class="line">​</span><br><span class="line">    //封装对象</span><br><span class="line">    Brand brand = new Brand();</span><br><span class="line">    brand.setStatus(status);</span><br><span class="line">    //        brand.setCompanyName(companyName);</span><br><span class="line">    //        brand.setBrandName(brandName);</span><br><span class="line">    //        brand.setDescription(description);</span><br><span class="line">    //        brand.setOrdered(ordered);</span><br><span class="line">    brand.setId(id);</span><br><span class="line">​</span><br><span class="line">    //1. 获取SqlSessionFactory</span><br><span class="line">    String resource = &quot;mybatis-config.xml&quot;;</span><br><span class="line">    InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">    //2. 获取SqlSession对象</span><br><span class="line">    SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">    //SqlSession sqlSession = sqlSessionFactory.openSession(true);</span><br><span class="line">    //3. 获取Mapper接口的代理对象</span><br><span class="line">    BrandMapper brandMapper = sqlSession.getMapper(BrandMapper.class);</span><br><span class="line">    //4. 执行方法</span><br><span class="line">    int count = brandMapper.update(brand);</span><br><span class="line">    System.out.println(count);</span><br><span class="line">    //提交事务</span><br><span class="line">    sqlSession.commit();</span><br><span class="line">    //5. 释放资源</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>执行测试方法结果如下：</strong></p>
<p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729224205522.png?lastModify=1659785047" alt="image-20210729224205522">​</p>
<p>**从结果中SQL语句可以看出，只修改了 **<code>status</code>  字段值，因为我们给的数据中只给Brand实体对象的 <code>status</code> 属性设置值了。这就是 <code>set</code> 标签的作用。</p>
<h3 id="1-8-删除一行数据"><a href="#1-8-删除一行数据" class="headerlink" title="1.8  删除一行数据"></a>1.8  删除一行数据</h3><p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729224549305.png?lastModify=1659785047" alt="image-20210729224549305">​</p>
<p>**如上图所示，每行数据后面都有一个 **<code>删除</code> 按钮，当用户点击了该按钮，就会将改行数据删除掉。那我们就需要思考，这种删除是根据什么进行删除呢？是通过主键id删除，因为id是表中数据的唯一标识。</p>
<p><strong>接下来就来实现该功能。</strong></p>
<h4 id="1-8-1-编写接口方法"><a href="#1-8-1-编写接口方法" class="headerlink" title="1.8.1  编写接口方法"></a>1.8.1  编写接口方法</h4><p>**在 **<code>BrandMapper</code> 接口中定义根据id删除方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">  * 根据id删除</span><br><span class="line">  */</span><br><span class="line">int deleteById(int id);</span><br></pre></td></tr></table></figure>

<h4 id="1-8-2-编写SQL语句"><a href="#1-8-2-编写SQL语句" class="headerlink" title="1.8.2  编写SQL语句"></a>1.8.2  编写SQL语句</h4><p>**在 **<code>BrandMapper.xml</code> 映射配置文件中编写删除一行数据的 <code>statement</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;delete id=&quot;deleteById&quot;&gt;</span><br><span class="line">    delete from tb_brand where id = #&#123;id&#125;;</span><br><span class="line">&lt;/delete&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-8-3-编写测试方法"><a href="#1-8-3-编写测试方法" class="headerlink" title="1.8.3  编写测试方法"></a>1.8.3  编写测试方法</h4><p>**在 **<code>test/java</code> 下的 <code>com.itheima.mapper</code>  包下的 <code>MybatisTest类中</code> 定义测试方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> @Test</span><br><span class="line">public void testDeleteById() throws IOException &#123;</span><br><span class="line">    //接收参数</span><br><span class="line">    int id = 6;</span><br><span class="line">​</span><br><span class="line">    //1. 获取SqlSessionFactory</span><br><span class="line">    String resource = &quot;mybatis-config.xml&quot;;</span><br><span class="line">    InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">    //2. 获取SqlSession对象</span><br><span class="line">    SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">    //SqlSession sqlSession = sqlSessionFactory.openSession(true);</span><br><span class="line">    //3. 获取Mapper接口的代理对象</span><br><span class="line">    BrandMapper brandMapper = sqlSession.getMapper(BrandMapper.class);</span><br><span class="line">    //4. 执行方法</span><br><span class="line">    brandMapper.deleteById(id);</span><br><span class="line">    //提交事务</span><br><span class="line">    sqlSession.commit();</span><br><span class="line">    //5. 释放资源</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>运行过程只要没报错，直接到数据库查询数据是否还存在。</strong></p>
<h3 id="1-9-批量删除"><a href="#1-9-批量删除" class="headerlink" title="1.9  批量删除"></a>1.9  批量删除</h3><p><img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210729225713894.png?lastModify=1659785047" alt="image-20210729225713894">​</p>
<p>**如上图所示，用户可以选择多条数据，然后点击上面的 **<code>删除</code> 按钮，就会删除数据库中对应的多行数据。</p>
<h4 id="1-9-1-编写接口方法"><a href="#1-9-1-编写接口方法" class="headerlink" title="1.9.1  编写接口方法"></a>1.9.1  编写接口方法</h4><p>**在 **<code>BrandMapper</code> 接口中定义删除多行数据的方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">  * 批量删除</span><br><span class="line">  */</span><br><span class="line">int deleteByIds(int[] ids);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>参数是一个数组，数组中存储的是多条数据的id</strong></p>
</blockquote>
<h4 id="1-9-2-编写SQL语句"><a href="#1-9-2-编写SQL语句" class="headerlink" title="1.9.2  编写SQL语句"></a>1.9.2  编写SQL语句</h4><p>**在 **<code>BrandMapper.xml</code> 映射配置文件中编写删除多条数据的 <code>statement</code>。</p>
<p>**编写SQL时需要遍历数组来拼接SQL语句。Mybatis 提供了 **<code>foreach</code> 标签供我们使用</p>
<p><strong>foreach 标签</strong></p>
<p><strong>用来迭代任何可迭代的对象（如数组，集合）。</strong></p>
<ul>
<li><p><strong>collection 属性：</strong></p>
<ul>
<li><p><strong>mybatis会将数组参数，封装为一个Map集合。</strong></p>
<ul>
<li><strong>默认：array &#x3D; 数组</strong></li>
<li><strong>使用@Param注解改变map集合的默认key的名称</strong></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>item 属性：本次迭代获取到的元素。</strong></p>
</li>
<li><p><strong>separator 属性：集合项迭代之间的分隔符。</strong><code>foreach</code> 标签不会错误地添加多余的分隔符。也就是最后一次迭代不会加分隔符。</p>
</li>
<li><p><strong>open 属性：该属性值是在拼接SQL语句之前拼接的语句，只会拼接一次</strong></p>
</li>
<li><p><strong>close 属性：该属性值是在拼接SQL语句拼接后拼接的语句，只会拼接一次</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;delete id=&quot;deleteByIds&quot;&gt;</span><br><span class="line">    delete from tb_brand where id</span><br><span class="line">    in</span><br><span class="line">    &lt;foreach collection=&quot;array&quot; item=&quot;id&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;</span><br><span class="line">        #&#123;id&#125;</span><br><span class="line">    &lt;/foreach&gt;</span><br><span class="line">&lt;/delete&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>假如数组中的id数据是{1,2,3}，那么拼接后的sql语句就是：</strong></p>
<p><code>delete from tb_brand where id in (1,2,3);</code></p>
</blockquote>
<h4 id="1-9-3-编写测试方法"><a href="#1-9-3-编写测试方法" class="headerlink" title="1.9.3  编写测试方法"></a>1.9.3  编写测试方法</h4><p>**在 **<code>test/java</code> 下的 <code>com.itheima.mapper</code>  包下的 <code>MybatisTest类中</code> 定义测试方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testDeleteByIds() throws IOException &#123;</span><br><span class="line">    //接收参数</span><br><span class="line">    int[] ids = &#123;5,7,8&#125;;</span><br><span class="line">​</span><br><span class="line">    //1. 获取SqlSessionFactory</span><br><span class="line">    String resource = &quot;mybatis-config.xml&quot;;</span><br><span class="line">    InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">    //2. 获取SqlSession对象</span><br><span class="line">    SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">    //SqlSession sqlSession = sqlSessionFactory.openSession(true);</span><br><span class="line">    //3. 获取Mapper接口的代理对象</span><br><span class="line">    BrandMapper brandMapper = sqlSession.getMapper(BrandMapper.class);</span><br><span class="line">    //4. 执行方法</span><br><span class="line">    brandMapper.deleteByIds(ids);</span><br><span class="line">    //提交事务</span><br><span class="line">    sqlSession.commit();</span><br><span class="line">    //5. 释放资源</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-10-Mybatis参数传递"><a href="#1-10-Mybatis参数传递" class="headerlink" title="1.10  Mybatis参数传递"></a>1.10  Mybatis参数传递</h3><p><strong>Mybatis 接口方法中可以接收各种各样的参数，如下：</strong></p>
<ul>
<li><p><strong>多个参数</strong></p>
</li>
<li><p><strong>单个参数：单个参数又可以是如下类型</strong></p>
<ul>
<li><strong>POJO 类型</strong></li>
<li><strong>Map 集合类型</strong></li>
<li><strong>Collection 集合类型</strong></li>
<li><strong>List 集合类型</strong></li>
<li><strong>Array 类型</strong></li>
<li><strong>其他类型</strong></li>
</ul>
</li>
</ul>
<h4 id="1-10-1-多个参数"><a href="#1-10-1-多个参数" class="headerlink" title="1.10.1  多个参数"></a>1.10.1  多个参数</h4><p>**如下面的代码，就是接收两个参数，而接收多个参数需要使用 **<code>@Param</code> 注解，那么为什么要加该注解呢？这个问题要弄明白就必须来研究Mybatis 底层对于这些参数是如何处理的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">package com.itheima.pojo;</span><br><span class="line">​</span><br><span class="line">public class User &#123;</span><br><span class="line">    private int id;</span><br><span class="line">    private String username;</span><br><span class="line">    private String password;</span><br><span class="line">    private String gender;</span><br><span class="line">    private String addr;</span><br><span class="line">​</span><br><span class="line">    public User() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    public User(int id, String username, String password, String gender, String addr) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">        this.username = username;</span><br><span class="line">        this.password = password;</span><br><span class="line">        this.gender = gender;</span><br><span class="line">        this.addr = addr;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    public int getId() &#123;</span><br><span class="line">        return id;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    public void setId(int id) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    public String getUsername() &#123;</span><br><span class="line">        return username;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    public void setUsername(String username) &#123;</span><br><span class="line">        this.username = username;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    public String getPassword() &#123;</span><br><span class="line">        return password;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    public void setPassword(String password) &#123;</span><br><span class="line">        this.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    public String getGender() &#123;</span><br><span class="line">        return gender;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    public void setGender(String gender) &#123;</span><br><span class="line">        this.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    public String getAddr() &#123;</span><br><span class="line">        return addr;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    public void setAddr(String addr) &#123;</span><br><span class="line">        this.addr = addr;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;User&#123;&quot; +</span><br><span class="line">                &quot;id=&quot; + id +</span><br><span class="line">                &quot;, username=&#x27;&quot; + username + &#x27;\&#x27;&#x27; +</span><br><span class="line">                &quot;, password=&#x27;&quot; + password + &#x27;\&#x27;&#x27; +</span><br><span class="line">                &quot;, gender=&#x27;&quot; + gender + &#x27;\&#x27;&#x27; +</span><br><span class="line">                &quot;, addr=&#x27;&quot; + addr + &#x27;\&#x27;&#x27; +</span><br><span class="line">                &#x27;&#125;&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>UserMapper接口</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public interface UserMapper &#123;</span><br><span class="line">​</span><br><span class="line">    User login(@Param(&quot;username&quot;) String username, @Param(&quot;password&quot;) String password);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>UserMapper.xml配置文件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;</span><br><span class="line">&lt;mapper namespace=&quot;com.itheima.mapper.UserMapper&quot;&gt;</span><br><span class="line">​</span><br><span class="line">    &lt;select id=&quot;login&quot; resultType=&quot;user&quot;&gt;</span><br><span class="line">        select *</span><br><span class="line">        from tb_user</span><br><span class="line">        where username = #&#123;username&#125;</span><br><span class="line">          and password = #&#123;password&#125;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">​</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure>

<p><strong>测试类</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">package com.itheima.test;</span><br><span class="line">​</span><br><span class="line">import com.itheima.mapper.UserMapper;</span><br><span class="line">import com.itheima.pojo.User;</span><br><span class="line">import com.itheima.util.MyBatisUtils;</span><br><span class="line">import org.apache.ibatis.session.SqlSession;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">​</span><br><span class="line">public class UserMapperTest &#123;</span><br><span class="line">​</span><br><span class="line">    @Test</span><br><span class="line">    public void testLogin() &#123;</span><br><span class="line">        SqlSession sqlSession = MyBatisUtils.getSession();</span><br><span class="line">​</span><br><span class="line">        //3. 获取Mapper接口的代理对象</span><br><span class="line">        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">​</span><br><span class="line">        //4. 执行方法</span><br><span class="line">        User user = userMapper.login(&quot;zhangsan&quot;,&quot;123&quot;);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">​</span><br><span class="line">        //5. 释放资源</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>**我们在接口方法中定义多个参数，Mybatis 会将这些参数封装成 Map 集合对象，值就是参数值，而键在没有使用 **<code>@Param</code> 注解时有以下命名规则：</p>
<ul>
<li><p><strong>以 arg 开头  ：第一个参数就叫 arg0，第二个参数就叫 arg1，以此类推。如：</strong></p>
<blockquote>
<p><strong>map.put(“arg0”，参数值1);</strong></p>
<p><strong>map.put(“arg1”，参数值2);</strong></p>
</blockquote>
</li>
<li><p><strong>以 param 开头 ： 第一个参数就叫 param1，第二个参数就叫 param2，依次类推。如：</strong></p>
<blockquote>
<p><strong>map.put(“param1”，参数值1);</strong></p>
<p><strong>map.put(“param2”，参数值2);</strong></p>
</blockquote>
</li>
</ul>
<p>注：arg从0开始，param从1开始</p>
<p><strong>代码验证：</strong></p>
<ul>
<li><p>**在 **<code>UserMapper</code> 接口中定义如下方法<br><code>User login(String username,String password);</code></p>
</li>
<li><p>**在 **<code>UserMapper.xml</code> 映射配置文件中定义SQL<br><code>&lt;select id=&quot;login&quot; resultType=&quot;user&quot;&gt; select *    from tb_user    where         username=#&#123;arg0&#125;        and password=#&#123;arg1&#125; &lt;/select&gt;</code></p>
<p><strong>或者</strong></p>
<p><code>&lt;select id=&quot;login&quot; resultType=&quot;user&quot;&gt; select *    from tb_user    where         username=#&#123;param1&#125;        and password=#&#123;param2&#125; &lt;/select&gt;</code></p>
</li>
<li><p><strong>运行代码结果如下</strong><br>​<img src="file://D:/BaiduNetdiskDownload/%E9%BB%91%E9%A9%ACJAVA%E8%B5%84%E6%96%99/%E5%88%98%E6%B3%A2%E8%80%81%E5%B8%88%E5%B0%B1%E4%B8%9A%E7%8F%AD/day19-Mybatis/2-%E8%AE%B2%E4%B9%89/assets/image-20210805230303461.png?lastModify=1659785047" alt="image-20210805230303461"><br>**在映射配合文件的SQL语句中使用用 **<code>arg</code> 开头的和 <code>param</code> 书写，代码的可读性会变的特别差，此时可以使用 <code>@Param</code> 注解。</p>
</li>
</ul>
<p>**在接口方法参数上使用 **<code>@Param</code> 注解，Mybatis 会将 <code>arg</code> 开头的键名替换为对应注解的属性值。</p>
<p><strong>代码验证：</strong></p>
<ul>
<li><p>**在 **<code>UserMapper</code> 接口中定义如下方法，在 <code>username</code> 参数前加上 <code>@Param</code> 注解<br><code>User login(@Param(&quot;username&quot;) String username, String password);</code></p>
<p><strong>Mybatis 在封装 Map 集合时，键名就会变成如下：</strong></p>
<blockquote>
<p><strong>map.put(“username”，参数值1);</strong></p>
<p><strong>map.put(“arg1”，参数值2);</strong></p>
<p><strong>map.put(“param1”，参数值1);</strong></p>
<p><strong>map.put(“param2”，参数值2);</strong></p>
</blockquote>
</li>
<li><p>**在 **<code>UserMapper.xml</code> 映射配置文件中定义SQL<br><code>&lt;select id=&quot;login&quot; resultType=&quot;user&quot;&gt; select *    from tb_user    where         username=#&#123;username&#125;        and password=#&#123;param2&#125; &lt;/select&gt;</code></p>
</li>
</ul>
<p>&#x3D;结论：以后接口参数是多个时，在每个参数上都使用 <code>@Param</code> 注解。这样代码的可读性更高。&#x3D;</p>
<h4 id="1-10-2-单个参数"><a href="#1-10-2-单个参数" class="headerlink" title="1.10.2  单个参数"></a>1.10.2  单个参数</h4><ul>
<li><p><strong>POJO (Plain Ordinary Java Object)类型，实体类</strong><br>**直接使用。要求 **<code>属性名</code> 和 <code>参数占位符名称</code> 一致</p>
</li>
<li><p><strong>Map 集合类型</strong><br>**直接使用。要求 **<code>map集合的键名</code> 和 <code>参数占位符名称</code> 一致</p>
</li>
<li><p><strong>Collection 集合类型</strong><br><strong>Mybatis 会将集合封装到 map 集合中，如下：</strong></p>
<blockquote>
<p><strong>map.put(“arg0”，collection集合);</strong></p>
<p><strong>map.put(“collection”，collection集合);</strong></p>
</blockquote>
<p>&#x3D;可以使用 <code>@Param</code> 注解替换map集合中默认的 arg 键名。&#x3D;</p>
</li>
<li><p><strong>List 集合类型</strong><br><strong>Mybatis 会将集合封装到 map 集合中，如下：</strong></p>
<blockquote>
<p><strong>map.put(“arg0”，list集合);</strong></p>
<p><strong>map.put(“collection”，list集合);</strong></p>
<p><strong>map.put(“list”，list集合);</strong></p>
</blockquote>
<p>&#x3D;可以使用 <code>@Param</code> 注解替换map集合中默认的 arg 键名。&#x3D;</p>
</li>
<li><p><strong>Array 类型</strong><br><strong>Mybatis 会将集合封装到 map 集合中，如下：</strong></p>
<blockquote>
<p><strong>map.put(“arg0”，数组);</strong></p>
<p><strong>map.put(“array”，数组);</strong></p>
</blockquote>
<p>&#x3D;可以使用 <code>@Param</code> 注解替换map集合中默认的 arg 键名。&#x3D;  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"></span><br><span class="line">* 批量删除  </span><br><span class="line">  */  </span><br><span class="line">  int deleteByIds(@Param(&quot;ids&quot;) int[] ids);  </span><br><span class="line">  ` `  </span><br><span class="line">  &lt;delete id=&quot;deleteByIds&quot;&gt;  </span><br><span class="line">     delete from tb_brand where id  </span><br><span class="line">     in  </span><br><span class="line">     &lt;foreach collection=&quot;ids&quot; item=&quot;id&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;  </span><br><span class="line">         #&#123;id&#125;  </span><br><span class="line">     &lt;/foreach&gt;  </span><br><span class="line">  &lt;/delete&gt;  </span><br></pre></td></tr></table></figure></li>
<li><p><strong>其他类型</strong><br><strong>比如int类型，</strong><code>参数占位符名称</code> 叫什么都可以。尽量做到见名知意</p>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Tommy Deng</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/09/04/%E4%BD%BF%E7%94%A8Mybatis%20%E5%AE%8C%E6%88%90CURD/">http://example.com/2022/09/04/%E4%BD%BF%E7%94%A8Mybatis%20%E5%AE%8C%E6%88%90CURD/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Tommy's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/09/04/Hibernate%E6%A1%86%E6%9E%B6/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2022/09/04/ORM%20%E6%80%9D%E6%83%B3%E4%B8%8EJava%20JPA/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info"></div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Tommy Deng</div><div class="author-info__description">用来记录和学习使用</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">20</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Mybatis-%E5%AE%8C%E6%88%90CURD"><span class="toc-number">1.</span> <span class="toc-text">使用Mybatis 完成CURD</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Mybatis%E7%BB%83%E4%B9%A0"><span class="toc-number">1.1.</span> <span class="toc-text">Mybatis练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1  环境准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE-%E5%AD%A6%E5%91%98%E8%87%AA%E5%B7%B1%E5%AE%8C%E6%88%90"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2  查询所有数据(学员自己完成)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-%E7%BC%96%E5%86%99%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">1.2.1  编写接口方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-%E5%88%9B%E5%BB%BA%E4%BC%9A%E8%AF%9D%E5%B7%A5%E5%8E%82%E7%B1%BB"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">1.2.2 创建会话工厂类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-3-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">1.2.3  编写测试方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-4-%E8%B5%B7%E5%88%AB%E5%90%8D%E8%A7%A3%E5%86%B3%E4%B8%8A%E8%BF%B0%E9%97%AE%E9%A2%98"><span class="toc-number">1.1.2.4.</span> <span class="toc-text">1.2.4  起别名解决上述问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-5-%E4%BD%BF%E7%94%A8resultMap%E8%A7%A3%E5%86%B3%E4%B8%8A%E8%BF%B0%E9%97%AE%E9%A2%98"><span class="toc-number">1.1.2.5.</span> <span class="toc-text">1.2.5  使用resultMap解决上述问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-6-%E5%9C%A8%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E8%BF%9B%E8%A1%8C%E4%BB%A5%E4%B8%8B%E9%85%8D%E7%BD%AE-%E6%8E%A8%E8%8D%90"><span class="toc-number">1.1.2.6.</span> <span class="toc-text">1.2.6 在核心配置文件中进行以下配置(推荐)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-7-%E5%B0%8F%E7%BB%93"><span class="toc-number">1.1.2.7.</span> <span class="toc-text">1.2.7  小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E6%9F%A5%E8%AF%A2%E8%AF%A6%E6%83%85"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3  查询详情</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1-%E7%BC%96%E5%86%99%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">1.3.1  编写接口方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2-%E7%BC%96%E5%86%99SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">1.3.2  编写SQL语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-3-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">1.3.3  编写测试方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-4-%E5%8F%82%E6%95%B0%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="toc-number">1.1.3.4.</span> <span class="toc-text">1.3.4  参数占位符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-6-SQL%E8%AF%AD%E5%8F%A5%E4%B8%AD%E7%89%B9%E6%AE%8A%E5%AD%97%E6%AE%B5%E5%A4%84%E7%90%86"><span class="toc-number">1.1.3.5.</span> <span class="toc-text">1.3.6  SQL语句中特殊字段处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.4  多条件查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-1-%E7%BC%96%E5%86%99%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">1.4.1  编写接口方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-2-%E7%BC%96%E5%86%99SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.4.2.</span> <span class="toc-text">1.4.2  编写SQL语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-3-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.4.3.</span> <span class="toc-text">1.4.3  编写测试方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-4-%E5%8A%A8%E6%80%81SQL"><span class="toc-number">1.1.4.4.</span> <span class="toc-text">1.4.4  动态SQL</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-%E5%8D%95%E4%B8%AA%E6%9D%A1%E4%BB%B6%EF%BC%88%E5%8A%A8%E6%80%81SQL%EF%BC%89"><span class="toc-number">1.1.5.</span> <span class="toc-text">1.5 单个条件（动态SQL）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-1-%E7%BC%96%E5%86%99%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.5.1.</span> <span class="toc-text">1.5.1  编写接口方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-2-%E7%BC%96%E5%86%99SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.5.2.</span> <span class="toc-text">1.5.2  编写SQL语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-3-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.5.3.</span> <span class="toc-text">1.5.3  编写测试方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE"><span class="toc-number">1.1.6.</span> <span class="toc-text">1.6  添加数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-1-%E7%BC%96%E5%86%99%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.6.1.</span> <span class="toc-text">1.6.1  编写接口方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-2-%E7%BC%96%E5%86%99SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.6.2.</span> <span class="toc-text">1.6.2  编写SQL语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-3-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.6.3.</span> <span class="toc-text">1.6.3  编写测试方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-4-%E6%B7%BB%E5%8A%A0-%E4%B8%BB%E9%94%AE%E8%BF%94%E5%9B%9E"><span class="toc-number">1.1.6.4.</span> <span class="toc-text">1.6.4  添加-主键返回</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-%E4%BF%AE%E6%94%B9"><span class="toc-number">1.1.7.</span> <span class="toc-text">1.7  修改</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-1-%E7%BC%96%E5%86%99%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.7.1.</span> <span class="toc-text">1.7.1  编写接口方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-2-%E7%BC%96%E5%86%99SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.7.2.</span> <span class="toc-text">1.7.2  编写SQL语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-3-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.7.3.</span> <span class="toc-text">1.7.3  编写测试方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-%E5%88%A0%E9%99%A4%E4%B8%80%E8%A1%8C%E6%95%B0%E6%8D%AE"><span class="toc-number">1.1.8.</span> <span class="toc-text">1.8  删除一行数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-8-1-%E7%BC%96%E5%86%99%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.8.1.</span> <span class="toc-text">1.8.1  编写接口方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-8-2-%E7%BC%96%E5%86%99SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.8.2.</span> <span class="toc-text">1.8.2  编写SQL语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-8-3-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.8.3.</span> <span class="toc-text">1.8.3  编写测试方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4"><span class="toc-number">1.1.9.</span> <span class="toc-text">1.9  批量删除</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-9-1-%E7%BC%96%E5%86%99%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.9.1.</span> <span class="toc-text">1.9.1  编写接口方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-9-2-%E7%BC%96%E5%86%99SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.9.2.</span> <span class="toc-text">1.9.2  编写SQL语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-9-3-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.9.3.</span> <span class="toc-text">1.9.3  编写测试方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-Mybatis%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-number">1.1.10.</span> <span class="toc-text">1.10  Mybatis参数传递</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-10-1-%E5%A4%9A%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="toc-number">1.1.10.1.</span> <span class="toc-text">1.10.1  多个参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-10-2-%E5%8D%95%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="toc-number">1.1.10.2.</span> <span class="toc-text">1.10.2  单个参数</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/09/04/Hibernate%E6%A1%86%E6%9E%B6/" title="无题"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2022/09/04/Hibernate%E6%A1%86%E6%9E%B6/" title="无题">无题</a><time datetime="2022-09-04T14:26:49.988Z" title="发表于 2022-09-04 22:26:49">2022-09-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/04/%E4%BD%BF%E7%94%A8Mybatis%20%E5%AE%8C%E6%88%90CURD/" title="无题"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2022/09/04/%E4%BD%BF%E7%94%A8Mybatis%20%E5%AE%8C%E6%88%90CURD/" title="无题">无题</a><time datetime="2022-09-04T14:26:49.887Z" title="发表于 2022-09-04 22:26:49">2022-09-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/04/ORM%20%E6%80%9D%E6%83%B3%E4%B8%8EJava%20JPA/" title="无题"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2022/09/04/ORM%20%E6%80%9D%E6%83%B3%E4%B8%8EJava%20JPA/" title="无题">无题</a><time datetime="2022-09-04T14:26:49.786Z" title="发表于 2022-09-04 22:26:49">2022-09-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/04/Mybatis%20%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/" title="无题"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2022/09/04/Mybatis%20%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/" title="无题">无题</a><time datetime="2022-09-04T14:26:49.689Z" title="发表于 2022-09-04 22:26:49">2022-09-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/04/Mybatis%20%E5%88%9D%E5%A7%8B%E5%8C%96SqlSession%E5%AF%B9%E8%B1%A1%E5%92%8C%E8%A7%A3%E6%9E%90%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/" title="无题"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2022/09/04/Mybatis%20%E5%88%9D%E5%A7%8B%E5%8C%96SqlSession%E5%AF%B9%E8%B1%A1%E5%92%8C%E8%A7%A3%E6%9E%90%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/" title="无题">无题</a><time datetime="2022-09-04T14:26:49.591Z" title="发表于 2022-09-04 22:26:49">2022-09-04</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Tommy Deng</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>